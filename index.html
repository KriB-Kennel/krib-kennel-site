<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>RaymondDevelop • Plan 1</title>
  <meta name="description" content="Página web básica (1 página). Plan 1 RaymondDevelop." />
  <meta name="theme-color" content="#0b1220" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;600;700&family=Anton&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <!-- Fondo suave (sin “tema navarro”) -->
  <div class="bg" aria-hidden="true"></div>

  <main class="wrap">
    <!-- HEADER -->
    <header class="card header">
      <img class="logo" id="logo" src="./assets/logo.png" alt="Logo" />
      <div class="tagline" id="tagline">Servicio • Ciudad • Respuesta rápida</div>

      <div class="cta">
        <a class="btn primary" id="btnCall" href="#">Llamar</a>
        <a class="btn" id="btnWhats" href="#" target="_blank" rel="noopener">WhatsApp</a>
      </div>
    </header>

    <!-- HERO -->
    <section class="card hero" id="inicio">
      <div class="hero-bg" id="heroBg" aria-hidden="true"></div>

      <div class="hero-inner">
        <div class="kicker" id="kicker">Disponible</div>
        <h1 class="hero-title" id="heroTitle">Título principal</h1>
        <p class="hero-text" id="heroText">Descripción breve del servicio y propuesta de valor.</p>
      </div>
    </section>

    <!-- SERVICIOS -->
    <section class="card section" id="servicios">
      <h2 class="section-title" id="servicesTitle">Servicios</h2>
      <p class="section-lead" id="servicesLead">Lista corta y clara de lo que ofreces.</p>

      <figure class="photo" id="photoWrap">
        <img id="photo" src="./assets/photo.jpg" alt="Foto" loading="lazy" decoding="async" />
      </figure>

      <div class="list" id="servicesList">
        <!-- se llena con JS -->
      </div>
    </section>

    <!-- CONTACTO + MAPA + QR -->
    <section class="card section" id="contacto">
      <h2 class="section-title" id="contactTitle">Contacto</h2>
      <p class="section-lead" id="contactLead">Llama o escribe por WhatsApp. Respuesta según disponibilidad.</p>

      <div class="contact">
        <a class="line" id="linePhone1" href="#"><b id="phone1Label">Teléfono</b><span id="phone1Text">---</span></a>
        <a class="line" id="linePhone2" href="#"><b id="phone2Label">Teléfono alterno</b><span id="phone2Text">---</span></a>
        <a class="line" id="lineWhats" href="#" target="_blank" rel="noopener"><b>WhatsApp</b><span id="whatsText">Escribir ahora</span></a>
      </div>

      <div class="split">
        <div class="mini">
          <h3 class="mini-title">Mapa</h3>
          <div class="map">
            <iframe
              id="mapFrame"
              title="Mapa"
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
              allowfullscreen
              src="">
            </iframe>
          </div>
          <a class="mini-link" id="mapLink" href="#" target="_blank" rel="noopener">Abrir en Google Maps</a>
        </div>

       
      </div>

      <div class="socials" id="socials">
        <!-- se llena con JS -->
      </div>
    </section>

    <!-- FOOTER -->
    <footer class="footer">
      <div class="brand" id="footerBrand">Marca</div>
      <div class="copy">
        © <span id="year"></span> •
        <a id="footerLink" href="#" target="_blank" rel="noopener">RaymondDevelop</a>
      </div>
    </footer>
  </main>

  <!-- Sticky bottom (mobile) -->
  <nav class="sticky">
    <a class="sbtn primary" id="sCall" href="#">Llamar</a>
    <a class="sbtn" id="sWhats" href="#" target="_blank" rel="noopener">WhatsApp</a>
  </nav>

  <script src="./config.js"></script>
  <script>
    // ===== Render desde config.js (SOLO personalizas SITE) =====
    const $ = (id) => document.getElementById(id);
    // ===== FLAGS (activar/desactivar secciones) =====
    const F = SITE.flags || {};


    function safeText(el, v){ if(el) el.textContent = v ?? ""; }
    function safeHref(el, v){ if(el && v) el.href = v; }
    function safeSrc(el, v){ if(el && v) el.src = v; }

    // CSS variables (colores cliente)
    const root = document.documentElement.style;
    Object.entries(SITE.colors || {}).forEach(([k,v]) => root.setProperty(`--${k}`, v));

    // Meta / Title
    document.title = SITE.meta?.title || document.title;

    // Header
    safeSrc($("logo"), SITE.assets?.logo || "./assets/logo.png");
    $("logo").alt = SITE.brand || "Logo";
    safeText($("tagline"), SITE.header?.tagline || "");

    // Botones
    const tel1 = SITE.contact?.phone1 || "";
    const tel2 = SITE.contact?.phone2 || "";
    const tel1Clean = SITE.contact?.phone1E164 || ""; // opcional: +1787...
    const tel2Clean = SITE.contact?.phone2E164 || "";

    safeHref($("btnCall"), `tel:${tel1Clean || tel1.replace(/[^0-9+]/g,"")}`);
    safeHref($("sCall"),  `tel:${tel1Clean || tel1.replace(/[^0-9+]/g,"")}`);

    const wa = SITE.contact?.whatsappE164 || ""; // 1787...
    const waMsg = encodeURIComponent(SITE.contact?.whatsappMessage || "Hola, necesito información.");
    const waLink = wa ? `https://wa.me/${wa}?text=${waMsg}` : "#";
    safeHref($("btnWhats"), waLink);
    safeHref($("sWhats"), waLink);
    safeHref($("lineWhats"), waLink);

    // Hero
    safeText($("kicker"), SITE.hero?.kicker || "");
    safeText($("heroTitle"), SITE.hero?.title || "");
    safeText($("heroText"), SITE.hero?.text || "");
    const heroImg = SITE.assets?.hero || "./assets/hero.jpg";
    $("heroBg").style.backgroundImage = `url("${heroImg}")`;

    // Servicios (lista)
    safeText($("servicesTitle"), SITE.services?.title || "Servicios");
    safeText($("servicesLead"), SITE.services?.lead || "");
    const list = $("servicesList");
    list.innerHTML = "";
    (SITE.services?.items || []).forEach((it) => {
      const div = document.createElement("div");
      div.className = "item";
      div.innerHTML = `<div class="dot" aria-hidden="true"></div>
                       <div>
                         <div class="it-title">${it.title || ""}</div>
                         <div class="it-desc">${it.desc || ""}</div>
                       </div>`;
      list.appendChild(div);
    });

    // Foto
    if (SITE.assets?.photo === null){
      $("photoWrap").style.display = "none";
    } else {
      safeSrc($("photo"), SITE.assets?.photo || "./assets/photo.jpg");
      $("photo").alt = SITE.brand ? `${SITE.brand} - Foto` : "Foto";
    }

    // Contacto
    safeText($("contactTitle"), SITE.contactSection?.title || "Contacto");
    safeText($("contactLead"), SITE.contactSection?.lead || "");

    safeText($("phone1Label"), SITE.contact?.phone1Label || "Teléfono");
    safeText($("phone1Text"), tel1 || "");
    safeHref($("linePhone1"), `tel:${tel1Clean || tel1.replace(/[^0-9+]/g,"")}`);

    if (tel2){
      safeText($("phone2Label"), SITE.contact?.phone2Label || "Teléfono alterno");
      safeText($("phone2Text"), tel2);
      safeHref($("linePhone2"), `tel:${tel2Clean || tel2.replace(/[^0-9+]/g,"")}`);
    } else {
      $("linePhone2").style.display = "none";
    }

    safeText($("whatsText"), SITE.contact?.whatsappHint || "Escribir ahora");

    // Mapa
    const mapEmbed = SITE.map?.embedUrl || "";
    const mapOpen  = SITE.map?.openUrl || "";
    if (mapEmbed){
      $("mapFrame").src = mapEmbed;
      safeHref($("mapLink"), mapOpen || mapEmbed);
    } else {
      $("mapFrame").src = "about:blank";
      $("mapLink").style.display = "none";
    }

    // QR
    if (SITE.assets?.qr === null){
      $("qrImg").closest(".mini").style.display = "none";
    } else {
      safeSrc($("qrImg"), SITE.assets?.qr || "./assets/qr.png");
      safeText($("qrNote"), SITE.qr?.note || "Escanéame para abrir el enlace.");
    }

    // Sociales
    const socials = $("socials");
    socials.innerHTML = "";
    (SITE.socials || []).forEach((s) => {
      const a = document.createElement("a");
      a.className = "soc";
      a.href = s.url;
      a.target = "_blank";
      a.rel = "noopener";
      a.textContent = s.label; // simple (sin icons para no complicar)
      socials.appendChild(a);
    });

    // Footer
    safeText($("footerBrand"), SITE.brand || "");
    safeHref($("footerLink"), SITE.footer?.companyUrl || "https://www.raymonddevelop.com");
    safeText($("footerLink"), SITE.footer?.companyLabel || "RaymondDevelop");

    $("year").textContent = new Date().getFullYear();
    // ===== Aplicar FLAGS =====

// Foto
if (!F.showPhoto) {
  const pw = document.getElementById("photoWrap");
  if (pw) pw.style.display = "none";
}

// Segundo teléfono
if (!F.showPhone2) {
  const p2 = document.getElementById("linePhone2");
  if (p2) p2.style.display = "none";
}

// Redes sociales
if (!F.showSocials) {
  const s = document.getElementById("socials");
  if (s) s.style.display = "none";
}

// Mapa
if (!F.showMap) {
  const map = document.getElementById("mapFrame");
  if (map) map.closest(".mini").style.display = "none";
}

// Sticky bottom
if (!F.showSticky) {
  const st = document.querySelector(".sticky");
  if (st) st.style.display = "none";
}

  </script>
</body>
</html>
