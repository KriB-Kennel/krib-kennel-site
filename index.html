<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <!-- iPhone / Safari top bar -->
  <meta name="theme-color" content="#000000">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">


  <title>KriB Kennel | Dog Sales • Boarding • Training • Grooming</title>

  <meta name="description"
        content="KriB Kennel en Guaynabo, Puerto Rico. Dog sales, boarding, training y grooming. Open 9am–6pm." />

  <!-- Preview cuando compartes el link -->
  <meta property="og:title" content="KriB Kennel" />
  <meta property="og:description"
        content="Dog sales, boarding, training y grooming. Open 9am–6pm." />
  <meta property="og:type" content="website" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;600;700&family=Anton&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="./styles.css" />
  <link rel="stylesheet" href="./gold-rain.css" />

</head>


<body>
  <div class="bg" aria-hidden="true"></div>
<div class="gold-rain" aria-hidden="true"></div>

  <main class="wrap">
    <!-- HEADER -->
   <header class="card header">
  <!-- Hamburger -->
  <button class="navbtn" id="navBtn" type="button" aria-label="Menu">
    <div class="navicon" aria-hidden="true">
      <span></span><span></span><span></span>
    </div>
  </button>

  <img class="logo" id="logo" src="./assets/logo.png" alt="Logo" />
  <div class="tagline" id="tagline">Servicio • Ciudad • Respuesta rápida</div>

  <div class="lang">
    <button class="langbtn" id="langEN" type="button">EN</button>
    <button class="langbtn" id="langES" type="button">ES</button>
  </div>
</header>

<!-- NAV DRAWER -->
<div class="nav-overlay" id="navOverlay" aria-hidden="true"></div>

<aside class="nav-drawer" id="navDrawer" aria-label="Site navigation">
  <div class="nav-top">
    <div class="nav-title" id="navTitle">Menu</div>
    <button class="nav-close" id="navClose" type="button" aria-label="Close">✕</button>
  </div>

  <nav class="nav-links" id="navLinks">
    <!-- se llena con JS -->
  </nav>

  <div class="nav-foot">
    <a class="sbtn primary" id="navCall" href="#">Llamar</a>
    <a class="sbtn" id="navWhats" href="#" target="_blank" rel="noopener">WhatsApp</a>
  </div>
</aside>

    <!-- HERO -->
    <section class="card hero" id="inicio">
      <div class="hero-bg" id="heroBg" aria-hidden="true"></div>

      <div class="hero-inner">
        <div class="kicker" id="kicker">Disponible</div>
        <h1 class="hero-title" id="heroTitle">Título principal</h1>
        <p class="hero-text" id="heroText">Descripción breve del servicio y propuesta de valor.</p>
      </div>
    </section>

    <!-- SERVICIOS -->
    <section class="card section" id="servicios">
      <h2 class="section-title" id="servicesTitle">Servicios</h2>
      <p class="section-lead" id="servicesLead">Lista corta y clara de lo que ofreces.</p>

      <figure class="photo" id="photoWrap">
        <img id="photo" src="./assets/photo.jpg" alt="Foto" loading="lazy" decoding="async" />
      </figure>

      <div class="list" id="servicesList">
        <!-- se llena con JS -->
      </div>
    </section>

    <!-- CONTACTO + GALERÍA (NO MAPA) -->
    <section class="card section" id="contacto">
      <h2 class="section-title" id="contactTitle">Contacto</h2>
      <p class="section-lead" id="contactLead">Llama o escribe por WhatsApp. Respuesta según disponibilidad.</p>

      <div class="contact">
        <a class="line" id="linePhone1" href="#">
          <b id="phone1Label">Teléfono</b>
          <span id="phone1Text">---</span>
        </a>

        <a class="line" id="linePhone2" href="#">
          <b id="phone2Label">Teléfono alterno</b>
          <span id="phone2Text">---</span>
        </a>

        <a class="line" id="lineWhats" href="#" target="_blank" rel="noopener">
          <b>WhatsApp</b>
          <span id="whatsText">Escribir ahora</span>
        </a>
      </div>

      <!-- ✅ GALERÍA (reemplaza mapa) -->
      <div class="split">
        <div class="mini" id="galleryMini">
          <h3 class="mini-title" id="galleryTitle">Galería</h3>

          <div class="photo">
<img id="galleryImg" src="./assets/mapphoto.png"
              
              alt="Galería" loading="lazy" decoding="async" />
          </div>
        </div>
      </div>

      <div class="socials" id="socials">
        <!-- se llena con JS -->
      </div>
    </section>

    <!-- FOOTER -->
    <footer class="footer">
      <div class="brand" id="footerBrand">Marca</div>
      <div class="copy">
        © <span id="year"></span> •
        <a id="footerLink" href="#" target="_blank" rel="noopener">RaymondDevelop</a>
      </div>
    </footer>
  </main>

  <!-- Sticky bottom (mobile) -->
  <nav class="sticky">
    <a class="sbtn primary" id="sCall" href="#">Llamar</a>
    <a class="sbtn" id="sWhats" href="#" target="_blank" rel="noopener">WhatsApp</a>
  </nav>

  <script src="./config.js"></script>
  <script>
    // ===== Helpers =====
    const $ = (id) => document.getElementById(id);
    function safeText(el, v){ if(el) el.textContent = v ?? ""; }
    function safeHref(el, v){ if(el && v) el.href = v; }
    function safeSrc(el, v){ if(el && v) el.src = v; }

    // ===== FLAGS =====
    const F = SITE.flags || {};

    // ===== Apply CSS vars from config =====
    const root = document.documentElement.style;
    Object.entries(SITE.colors || {}).forEach(([k,v]) => root.setProperty(`--${k}`, v));

    // ===== Title =====
    document.title = SITE.meta?.title || document.title;

    // ===== Header =====
    safeSrc($("logo"), SITE.assets?.logo || "./assets/logo.png");
    if ($("logo")) $("logo").alt = SITE.brand || "Logo";
    safeText($("tagline"), SITE.header?.tagline || "");

    // ===== Contact links =====
    const tel1 = SITE.contact?.phone1 || "";
    const tel2 = SITE.contact?.phone2 || "";
    const tel1Clean = SITE.contact?.phone1E164 || "";
    const tel2Clean = SITE.contact?.phone2E164 || "";

    const telHref1 = `tel:${tel1Clean || tel1.replace(/[^0-9+]/g,"")}`;
    const telHref2 = `tel:${tel2Clean || tel2.replace(/[^0-9+]/g,"")}`;

    safeHref($("sCall"), telHref1);
    safeHref($("linePhone1"), telHref1);

    // WhatsApp
    const wa = SITE.contact?.whatsappE164 || "";
    const waMsg = encodeURIComponent(SITE.contact?.whatsappMessage || "Hello, I need information.");
    const waLink = wa ? `https://wa.me/${wa}?text=${waMsg}` : "#";
    safeHref($("sWhats"), waLink);
    safeHref($("lineWhats"), waLink);
    safeText($("whatsText"), SITE.contact?.whatsappHint || "WhatsApp");

    // ===== Hero =====
    safeText($("kicker"), SITE.hero?.kicker || "");
    safeText($("heroTitle"), SITE.hero?.title || "");
    safeText($("heroText"), SITE.hero?.text || "");
    const heroImg = SITE.assets?.hero || "./assets/hero.jpg";
    if ($("heroBg")) $("heroBg").style.backgroundImage = `url("${heroImg}")`;

    // ===== Language helpers =====
    function getLang(){
      return localStorage.getItem("lang") || SITE.defaultLang || "en";
    }
    function paintLangButtons(lang){
      $("langEN")?.classList.toggle("active", lang === "en");
      $("langES")?.classList.toggle("active", lang === "es");
    }
    function t(key){
      const lang = getLang();
      return (SITE.i18n?.[lang]?.[key]) ?? (SITE.i18n?.en?.[key]) ?? null;
    }

    // ===== Services list (EN/ES) =====
    function renderServices(){
      const list = $("servicesList");
      if (!list) return;

      const langNow = getLang();
      const items =
        SITE.services?.items?.[langNow] ||
        SITE.services?.items?.en ||
        SITE.services?.items ||
        [];

      list.innerHTML = "";
      items.forEach((it) => {
        const div = document.createElement("div");
        div.className = "item";
        div.innerHTML = `
          <div class="dot" aria-hidden="true"></div>
          <div>
            <div class="it-title">${it.title || ""}</div>
            <div class="it-desc">${it.desc || ""}</div>
          </div>`;
        list.appendChild(div);
      });
    }

    // ===== Photo (flag) =====
    if (F.showPhoto === false) {
      if ($("photoWrap")) $("photoWrap").style.display = "none";
    } else {
      safeSrc($("photo"), SITE.assets?.photo || "./assets/photo.jpg");
      if ($("photo")) $("photo").alt = SITE.brand ? `${SITE.brand} - Photo` : "Photo";
    }

    // ✅ Gallery image (optional from config)
    // Si quieres controlarlo desde config.js: SITE.assets.gallery = "./assets/gallery.jpg"
safeSrc($("galleryImg"), SITE.assets?.gallery || "./assets/mapphoto.png");

    // ===== Contact text =====
    safeText($("contactTitle"), SITE.contactSection?.title || "Contact");
    safeText($("contactLead"), SITE.contactSection?.lead || "");
    safeText($("phone1Label"), SITE.contact?.phone1Label || "Phone");
    safeText($("phone1Text"), tel1 || "");

    // Phone 2 (flag + has number)
    if (F.showPhone2 === false || !tel2) {
      if ($("linePhone2")) $("linePhone2").style.display = "none";
    } else {
      safeText($("phone2Label"), SITE.contact?.phone2Label || "Alternate");
      safeText($("phone2Text"), tel2);
      safeHref($("linePhone2"), telHref2);
    }

    // ===== Socials (flag) =====
    const socials = $("socials");
    if (F.showSocials === false) {
      if (socials) socials.style.display = "none";
    } else if (socials) {
      socials.innerHTML = "";
      (SITE.socials || []).forEach((s) => {
        const a = document.createElement("a");
        a.className = "soc";
        a.href = s.url;
        a.target = "_blank";
        a.rel = "noopener";
        a.textContent = s.label;
        socials.appendChild(a);
      });
      if (!(SITE.socials || []).length) socials.style.display = "none";
    }

    // ===== Sticky (flag) =====
    if (F.showSticky === false) {
      const st = document.querySelector(".sticky");
      if (st) st.style.display = "none";
    }

    // ===== Footer =====
    safeText($("footerBrand"), SITE.brand || "");
    safeHref($("footerLink"), SITE.footer?.companyUrl || "https://www.raymonddevelop.com");
    safeText($("footerLink"), SITE.footer?.companyLabel || "RaymondDevelop");
    if ($("year")) $("year").textContent = new Date().getFullYear();

    // ===== Apply language (if i18n exists) =====
    function applyLang(){
      if (!SITE.i18n) {
        // igual renderiza servicios con el idioma actual por si existe items.en/items.es
        renderServices();
        return;
      }

      const lang = getLang();
      paintLangButtons(lang);

      // Header/brand
      const brandText = t("brand");
      if (brandText) {
        document.title = brandText;
        safeText($("footerBrand"), brandText);
      }
      const tagline = t("tagline");
      if (tagline) safeText($("tagline"), tagline);

      // Hero
      const hk = t("heroKicker"); if (hk) safeText($("kicker"), hk);
      const ht = t("heroTitle");  if (ht) safeText($("heroTitle"), ht);
      const hx = t("heroText");   if (hx) safeText($("heroText"), hx);

      // Sections
      const st = t("servicesTitle"); if (st) safeText($("servicesTitle"), st);
      const sl = t("servicesLead");  if (sl) safeText($("servicesLead"), sl);
      const ct = t("contactTitle");  if (ct) safeText($("contactTitle"), ct);
      const cl = t("contactLead");   if (cl) safeText($("contactLead"), cl);

      // Labels
      const p1 = t("phone1Label"); if (p1) safeText($("phone1Label"), p1);
      const p2 = t("phone2Label"); if (p2) safeText($("phone2Label"), p2);

      // Sticky buttons
      const callBtn = t("callBtn"); if (callBtn) safeText($("sCall"), callBtn);
      const waBtn   = t("waBtn");   if (waBtn) safeText($("sWhats"), waBtn);

      // Gallery title optional
      const gt = t("galleryTitle"); if (gt) safeText($("galleryTitle"), gt);

      document.documentElement.lang = lang;

      // Re-render services in selected language
      renderServices();
    }

    // ===== Language buttons =====
    $("langEN")?.addEventListener("click", () => {
      localStorage.setItem("lang","en");
      applyLang();
    });

    $("langES")?.addEventListener("click", () => {
      localStorage.setItem("lang","es");
      applyLang();
    });
// ===== NAV (hamburger) =====
function openNav(){ document.body.classList.add("nav-open"); }
function closeNav(){ document.body.classList.remove("nav-open"); }

$("navBtn")?.addEventListener("click", openNav);
$("navClose")?.addEventListener("click", closeNav);
$("navOverlay")?.addEventListener("click", closeNav);
document.addEventListener("keydown", (e)=>{ if(e.key==="Escape") closeNav(); });

// Nav links desde config.js (con i18n)
function navLabel(item){
  // item.labelKey = "navHome" etc. (recomendado)
  const key = item.labelKey;
  if (key && SITE.i18n) return t(key) || item.label || "";
  return item.label || "";
}

function renderNav(){
  const nav = $("navLinks");
  if(!nav) return;

  // default nav si no existe en config
  const items = SITE.nav?.items || [
    { href:"./index.html#inicio", labelKey:"navHome", label:"Home" },
    { href:"./index.html#servicios", labelKey:"navServices", label:"Services" },
    { href:"./gallery.html", labelKey:"navGallery", label:"Gallery" },
    { href:"./dogs.html", labelKey:"navDogs", label:"Dogs" },
    { href:"./index.html#contacto", labelKey:"navContact", label:"Contact" },
  ];

  const here = (location.pathname.split("/").pop() || "index.html").toLowerCase();
  nav.innerHTML = "";

  items.forEach((it)=>{
    const a = document.createElement("a");
    a.href = it.href;

    const targetFile = (it.href.split("#")[0].split("/").pop() || "index.html").toLowerCase();
    if (targetFile === here) a.classList.add("active");

    a.textContent = navLabel(it);
    a.addEventListener("click", closeNav);
    nav.appendChild(a);
  });

  // Botones rápidos dentro del menú
  safeHref($("navCall"), telHref1);
  safeHref($("navWhats"), waLink);
  safeText($("navCall"), t("callBtn") || "Call");
  safeText($("navWhats"), t("waBtn") || "WhatsApp");

  // título menú
  safeText($("navTitle"), t("navTitle") || "Menu");
}

    // ===== First paint =====
    applyLang();
  </script>
<div class="gold-rain"></div>

</body>
</html>
